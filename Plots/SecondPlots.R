library(ggplot2)
library(tidyr)
library(dplyr)

# Create the data frame


threads <- rep(c(2, 4, 6, 8, 10), each = 20)
tasks <- rep(1:20, times = 5)
speedup <- c(
  # Threads: 2
  1.0031425044547755, 1.8386083832342006, 1.3582740171390422, 1.694203252930013, 1.4329938474254629,
  1.6677798009690696, 1.75160199102751, 1.893118750933718, 1.5746985989551743, 1.6054889426774193,
  1.8541986586703085, 1.9817307736035705, 1.7964778126621626, 1.979916007993935, 1.7848056169847142,
  1.9244704550594043, 1.8449646931653845, 1.9516452115320129, 1.8526854040047565, 1.9147472625182862,
  
  # Threads: 4
  0.9992136700245166, 1.9293572782133785, 2.576303160185566, 3.2652124452166755, 2.2203699559474086,
  2.4262839969510295, 2.8295358910330313, 3.3700706587997336, 2.7348781268759446, 3.0788936264201867,
  2.9585308954828564, 3.245879780407117, 2.9913955349528747, 2.746996745547819, 2.729310215075368,
  2.830828155026993, 2.913657440805557, 2.7882794782683678, 2.854103768678785, 2.888039767468969,
  
  # Threads: 6
  1.0065819504653906, 1.667978939465242, 2.221885727484388, 2.849648290599664, 3.394078431131296,
  4.100582658923849, 3.116904233384233, 3.107505462096814, 3.8645464524706945, 4.081993182932071,
  3.855601343643698, 4.113280923549974, 3.8937817831979067, 4.074492732699903, 3.9660418602632284,
  4.112274946986202, 4.2673405987126785, 4.503867918730961, 3.9847771780720187, 4.181519053777227,
  
  # Threads: 8
  0.9909351386326174, 1.9322099198523361, 2.675486839697953, 3.4514534289394905, 3.8001871331370776,
  4.112482097446209, 4.948426764031242, 5.242003562899797, 3.869697460655301, 4.183672945349449,
  4.351920048810552, 4.682120573021477, 4.671260345095119, 5.0021506568656084, 4.988273001608089,
  5.43283212382982, 4.542588267771427, 4.768398876645424, 4.928755044580203, 5.0079609329931944,
  
  # Threads: 10
  0.989874722724128, 1.8988758514391633, 2.5839124192227136, 3.321225819942728, 3.880610914421121,
  4.287028858101286, 4.8018645082755045, 5.192330707837659, 5.583288788334324, 5.866769539653254,
  4.422478274284595, 4.610712997374304, 4.8251653623424495, 5.054148034037149, 5.075978019930044,
  5.272697132486757, 5.447235050650856, 5.685810261933893, 5.865447627083385, 6.144686613173482
)

df <- data.frame(threads = threads, tasks = tasks, speedup = speedup)

# Create the plot
ggplot(df, aes(x = tasks, y = speedup, color = factor(threads))) +
  geom_line() +
  geom_point() +
  scale_color_discrete(name = "Number of Threads") +
  labs(title = "Speedup vs Number of Tasks for Different Thread Counts",
       x = "Number of Tasks",
       y = "Average Speedup") +
  theme_minimal() +
  theme(legend.position = "right")


# Heatmap
ggplot(df, aes(x = threads, y = tasks, fill = speedup)) +
  geom_tile() +
  scale_fill_viridis_c() +
  labs(x = "Number of Threads", y = "Number of Tasks", 
       fill = "Speedup", 
       title = "Speedup vs. Threads and Tasks") +
  theme_minimal()
